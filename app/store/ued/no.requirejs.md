米子说： 为什么基于angularjs的前端架构我不使用requirejs？
====

## 从业务层面来说

> 在我的认识里，永远没有最好的技术，只有最适合当前环境的技术

#### 首先我们必须认识我们公司产品的特色

有人说我们公司的产品是SaaS（Software-as-a-Service），也有人说是B2C, B2B 等等，
众说纷纭
但不管是HR，HD，CRM 还是未来即将出现的 HA，都是针对企业应用系统。

企业应用系统的特点就是针对某个行业或某一特殊人群，功能较复杂，对界面的要求一般是整齐，不追花俏，
但对功能要求稳定，对用户体验大多数只要求到能用或易用。

#### 企业级应用的主要特点

* 独占模式——一般用户使用互联网产品，都是片段时间使用，比如购物或者阅读，做完之后就刷新或者关闭浏览器了，
而企业应用往往是工作的全部，从早上上班开始打开，到下班才关掉，一天绝大部分工作都在上面完成，
比如一个呼叫中心的操作员, 又比如业务部分的 EM。

* 重业务，轻视觉——企业应用对视觉的追求是比较低的，一般不会要求花哨效果，以业务操作的流畅性为第一目标。

* 界面规整，单一模式——企业应用的界面布局相对有模式可循，可以用很少的场景来穷举，界面横平竖直，比较规整，使用到的控件元素也是可穷举的，基本没有什么特效。

* 逻辑复杂——我之前所在的行业中，业务逻辑很复杂，前端可能会需要写很多复杂的逻辑，JS代码大部分是在处理逻辑，而不是界面交互。

* 加载速度的侧重不同——互联网产品往往很重视首屏优化，但是其策略可能与企业应用不同。
比如说，3个200k的模块，在网站型产品中可能优化成一个100k加三个150k的模块，但在企业应用中，很可能优化成一个400k加三个50k的模块。
为什么会这样呢？因为内容型的网站讲究的优化策略是分摊，如果首次加载太慢，会很影响用户的信心，
但企业应用用户的容忍度是较高的，他并不在乎刚打开的时候慢一些，因为打开了之后就要用一天，
对于之后每步操作的模块加载速度倒是要求很高。
另外，对于内存泄露的处理，也要求得比较高一些。整个这些策略，其实是来源于C/S系统的影响。

## requriejs 的特点

RequireJS 遵循的是 AMD（异步模块定义）规范：

1. 代码模块化
2. 异步加载
3. 按需加载

## 为什么我对requirejs say no

### 代码模块化

angularjs 本身就遵从模块化开发，使用强大的ng的依赖管理，可以随意调用ng定义个的各个模块;
ng 并不关心各个模块申明的顺序


“app”对象是Angular应用正常运行的关键。
在一般的使用中，Angular会假设在应用“启动”时文档已经加载完毕。

根据AngularJS的文档，Angular会在DOMContentLoaded事件发生时完成“自动初始化”。

换句话说：在document.readState被设置为complete时，angular.js脚本会被调用。
在实际运行中，当DOM已经加载完成之后，Angular都会进行的步骤如下：

加载有ng-app指定的模块
创建一个应用注入器 - 它能够根据字符串的值将对象注入到相应模块中
编译ng-app属性所在标签下面的DOM树
以上的步骤就是一般情况下Angular会做的事情。只要所有的脚本在DOMContentLoaded事件之前加载完毕(可以将它看作document.ready)，一切都能正常运行。
再换句话说：要使用ng就必须 在DOMContentLoaded事件执行之前加载完毕所需要的js文件；

那么是否可以这么理解，ng对requireJS的模块化没有太大的需求，同时对按需加载也没有太大意义上的需求。

### 如果只剩下异步加载？

那么LABjs 是否就可以完全满足需求了呢？

### 麻烦

http://www.html-js.com/article/2126